<div class="order-list">
  <h2>List of Orders</h2>
  <div class="row justify-content-end">
    <div class="col-6 text-right">
      <div class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="statusDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Select Status
        </button>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="statusDropdown">
          <button class="dropdown-item" (click)="getOrdersByStatus(0)">Chờ xử lý</button>
          <button class="dropdown-item" (click)="getOrdersByStatus(1)">Đang xử lý</button>
          <button class="dropdown-item" (click)="getOrdersByStatus(2)">Đã xử lý</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="orders.length > 0">
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>STT</th>
          <th>User</th>
          <th>Phone Number</th>
          <th>Email</th>
          <th>Text</th>
          <th>Status</th>
          <th>Car ID</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orders; let i = index" class="order-item">
          <td>{{ i + 1 }}</td>
          <td>{{ order.nameUser }}</td>
          <td>{{ order.phoneNumber }}</td>
          <td>{{ order.email }}</td>
          <td>{{ order.text }}</td>
          <td>
            <span *ngIf="order.status === 0" class="text-warning">Chờ xử lý</span>
            <span *ngIf="order.status === 1" class="text-primary">Đang xử lý</span>
            <span *ngIf="order.status === 2" class="text-success">Đã xử lý</span>
          </td>
          <td>{{ order.carId }}</td>
          <td>
            <select class="form-control" [(ngModel)]="selectedStatus">
              <option value="0">Chờ xử lý</option>
              <option value="1">Đang xử lý</option>
              <option value="2">Đã xử lý</option>
            </select>
            <button class="btn btn-primary ml-2" (click)="updateStatus(order.id)">Update Status</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="orders.length === 0">
    <p class="text-muted">No orders available.</p>
  </div>
</div>
